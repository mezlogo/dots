#!/bin/bash

current_hist() { sort ~/.zsh_history | uniq; }
compare() { comm -3 -$1 <(current_hist) ~/.zsh_history_remote; } 
compare_local() { compare 2; }
compare_remote() { compare 1; }

case "$1" in
  export) cp ~/.zsh_history ~/.zsh_history_remote ;;
  local) compare_local ;;
  remote) compare_remote ;;
  *) current_hist ;;
esac
